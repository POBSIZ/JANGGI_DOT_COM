# 게임별 좌표 변환 자동 감지 기능

## 구현 완료

게임별로 최적의 좌표 변환을 자동으로 감지하는 기능을 구현했습니다.

## 기능 설명

### `_detect_coordinate_transformation` 함수

각 게임의 처음 10수를 분석하여 최적의 좌표 변환을 감지합니다.

**작동 방식:**
1. 게임의 처음 10수를 샘플로 사용
2. 12개의 다양한 좌표 변환 후보를 시도
3. 각 변환의 성공률과 기물 타입 일치율을 계산
4. 가장 높은 점수를 받은 변환을 선택

**점수 계산:**
- 기물 타입 일치: 2점
- 성공한 수: 1점
- 최종 점수 = (기물 타입 일치 × 2 + 성공) / 총 시도 수

### 통합

- `_process_single_game_worker`: 게임 시작 시 좌표 변환 감지 수행
- `_find_valid_move_helper`: 감지된 변환을 우선적으로 사용
- `test_parsing_success_rate.py`: 테스트 스크립트에도 적용

## 변환 후보

다음 12개의 변환 후보를 시도합니다:

1. `File=Y-1, Rank=9-X` (기본 변환, 최고 성공률)
2. `File=X-1, Rank=9-Y (반대)`
3. `File=9-Y, Rank=9-X`
4. `File=9-X, Rank=9-Y (반대)`
5. `File=첫자리, Rank=둘째자리`
6. `File=Y-1, Rank=X`
7. `File=9-Y, Rank=X`
8. `File=X-1, Rank=Y`
9. `File=9-X, Rank=Y`
10. `File=Y, Rank=X`
11. `File=Y, Rank=9-X`
12. `File=둘째자리, Rank=첫자리`

## 테스트 결과

- **변환 감지 성공률**: 100% (50개 게임 모두 감지 성공)
- **현재 파싱 성공률**: 27.4%

## 참고

- 대부분의 게임이 기본 변환(`File=Y-1, Rank=9-X`)을 사용하므로, 감지된 변환이 기본 변환과 동일한 경우가 많습니다.
- 일부 게임은 다른 좌표 시스템을 사용할 수 있으므로, 이 기능이 자동으로 감지하여 적용합니다.
- 감지된 변환이 없으면 기본 변환을 사용합니다.

## 향후 개선 방안

1. **더 많은 변환 후보**: 추가적인 좌표 변환 패턴 시도
2. **더 긴 샘플**: 처음 10수 대신 더 많은 수를 샘플로 사용
3. **적응형 감지**: 게임 중간에 변환이 변경되는 경우 대응
4. **캐싱**: 같은 형식의 게임에 대해 감지 결과 캐싱

