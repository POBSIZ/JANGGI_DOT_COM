# 장기 좌표 시스템 문서

## 좌표 시스템 종류

### 1. 구좌표
- 가로행: 한자 숫자 (一, 二, 三, 四, 五, 六, 七, 八, 九, 十)
- 세로열: 아라비아 숫자 (1-9)
- 예: 한차의 위치 = 一1 또는 1一

### 2. 2차 개정 좌표
- 각 교차점을 1부터 90까지의 수로 나타냄
- 가장 가독성이 나쁨
- 예: 한차의 위치 = 1

### 3. 3차 개정 좌표 (신좌표) ⭐
- 구좌표에서 한자를 모두 아라비아 숫자로 변경
- 10이 사라지고 0이 됨
- 형식: 두 자리 숫자
  - 11-99: 행 1-9, 열 1-9
  - 01-09: 행 0 (10번째 행), 열 1-9

```
11 12 13 14 15 16 17 18 19  (행 1)
21 22 23 24 25 26 27 28 29  (행 2)
31 32 33 34 35 36 37 38 39  (행 3)
41 42 43 44 45 46 47 48 49  (행 4)
51 52 53 54 55 56 57 58 59  (행 5)
61 62 63 64 65 66 67 68 69  (행 6)
71 72 73 74 75 76 77 78 79  (행 7)
81 82 83 84 85 86 87 88 89  (행 8)
91 92 93 94 95 96 97 98 99  (행 9)
01 02 03 04 05 06 07 08 09  (행 0 = 10번째 행)
```

- 예: 한차의 위치 = 11

### 4. 체스식 좌표
- 가로행: 숫자 (1-10)
- 세로열: 라틴 알파벳 소문자 (a-i)
- 예: 한차의 위치 = a10

## 기보 파일 형식 분석

기보 파일에서 발견된 형식:
- `02馬83` - 3차 개정 좌표 (신좌표)
- `41漢兵42` - 3차 개정 좌표 (신좌표)

**결론**: 기보 파일은 **3차 개정 좌표 (신좌표)**를 사용합니다!

## 좌표 변환

### 3차 개정 좌표 → 보드 좌표

**3차 개정 좌표 형식:**
- 두 자리 숫자: `XY`
  - X: 행 (0-9, 0은 10번째 행)
  - Y: 열 (1-9)

**보드 좌표 시스템:**
- File: 0-8 (왼쪽에서 오른쪽)
- Rank: 0-9 (위에서 아래, HAN이 위, CHO가 아래)

**변환 공식:**
- File = Y - 1  (열에서 1을 빼서 0-8로 변환)
- Rank = X     (행은 그대로, 0-9)

**예시:**
- `11` → File=0, Rank=1
- `42` → File=1, Rank=4
- `83` → File=2, Rank=8
- `02` → File=1, Rank=0

## 주의사항

1. **행과 열의 순서**: 3차 개정 좌표는 행이 먼저, 열이 나중
2. **0의 의미**: 01-09는 10번째 행을 의미 (행 0)
3. **보드 방향**: HAN이 위(rank 0-3), CHO가 아래(rank 6-9)

