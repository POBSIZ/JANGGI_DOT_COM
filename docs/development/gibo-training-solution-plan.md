# ê¸°ë³´ í•™ìŠµ ìŠ¹ë¥  0% ë¬¸ì œ í•´ê²° ê³„íš

## ë¬¸ì„œ ê°œìš”

ì´ ë¬¸ì„œëŠ” `gibo-training-issue-analysis.md`ì—ì„œ ë¶„ì„ëœ ë¬¸ì œì ë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ êµ¬í˜„ ê³„íšì„ ì œì‹œí•©ë‹ˆë‹¤.

## ë¬¸ì œ ìš”ì•½

ê¸°ë³´ ê¸°ë°˜ supervised trainingì„ ìˆ˜í–‰í–ˆì§€ë§Œ SimpleEvaluator ëŒ€ë¹„ ìŠ¹ë¥ ì´ 0.0%ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ë¬¸ì œì :**
1. íƒ€ê²Ÿ ê°’ì´ ê²Œì„ ê²°ê³¼ë§Œìœ¼ë¡œ ê³„ì‚°ë˜ì–´ í¬ì§€ì…˜ì˜ ì‹¤ì œ í‰ê°€ê°’ì„ ë°˜ì˜í•˜ì§€ ëª»í•¨
2. ê¸°ë³´ íŒŒì‹± ì •í™•ë„ ë¬¸ì œ ê°€ëŠ¥ì„±
3. ëª¨ë¸ í•™ìŠµ ìƒíƒœ ê²€ì¦ ë¶€ì¡±
4. í‰ê°€ í•¨ìˆ˜ ë™ì‘ í™•ì¸ í•„ìš”

## í•´ê²° ë°©ì•ˆ ë° êµ¬í˜„ ê³„íš

### ë°©ì•ˆ 1: í‰ê°€ ì ìˆ˜ ê¸°ë°˜ íƒ€ê²Ÿ ê³„ì‚° (ìµœìš°ì„ )

**ëª©í‘œ:** í¬ì§€ì…˜ì˜ ì‹¤ì œ í‰ê°€ ì ìˆ˜ë¥¼ íƒ€ê²Ÿ ê³„ì‚°ì— í¬í•¨í•˜ì—¬ ë” ì •í™•í•œ í•™ìŠµ ì‹ í˜¸ ì œê³µ

**êµ¬í˜„ ë‹¨ê³„:**

#### 1.1 SimpleEvaluator í†µí•©
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py`
- **ë³€ê²½ ì‚¬í•­:**
  - `_process_single_game_worker` í•¨ìˆ˜ì— SimpleEvaluator ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€
  - ê° í¬ì§€ì…˜ì—ì„œ feature ì¶”ì¶œ ì „ì— í‰ê°€ ì ìˆ˜ ê³„ì‚°
  - í‰ê°€ ì ìˆ˜ë¥¼ íƒ€ê²Ÿ ê³„ì‚°ì— í¬í•¨

**êµ¬ì²´ì  ì½”ë“œ ë³€ê²½:**
```python
# _process_single_game_worker í•¨ìˆ˜ ë‚´ë¶€
from janggi.nnue import SimpleEvaluator

# Worker í•¨ìˆ˜ ì‹œì‘ ë¶€ë¶„ì— ì¶”ê°€
simple_evaluator = SimpleEvaluator()

# íƒ€ê²Ÿ ê³„ì‚° ë¶€ë¶„ (353ë²ˆì§¸ ì¤„ ê·¼ì²˜) ìˆ˜ì •
eval_score = simple_evaluator.evaluate(board)
# í˜„ì¬ side_to_move ê´€ì ì—ì„œ í‰ê°€ ì ìˆ˜ ì •ê·œí™”
if board.side_to_move == Side.CHO:
    normalized_eval = np.clip(eval_score / EVAL_SCALE, -1, 1)
else:
    normalized_eval = np.clip(-eval_score / EVAL_SCALE, -1, 1)

# í‰ê°€ ì ìˆ˜ì™€ ê²Œì„ ê²°ê³¼ í˜¼í•©
target = EVAL_WEIGHT * normalized_eval + \
         RESULT_WEIGHT * base_target * progress
```

**ì„¤ì • ìƒìˆ˜ ì¶”ê°€:**
```python
# Training Configuration Constants ì„¹ì…˜ì— ì¶”ê°€
EVAL_WEIGHT = 0.7  # í‰ê°€ ì ìˆ˜ ê°€ì¤‘ì¹˜
RESULT_WEIGHT = 0.3  # ê²Œì„ ê²°ê³¼ ê°€ì¤‘ì¹˜
EVAL_SCALE = 10.0  # í‰ê°€ ì ìˆ˜ ì •ê·œí™” ìŠ¤ì¼€ì¼
```

#### 1.2 ë™ì¼í•œ ë¡œì§ì„ `_process_game` í•¨ìˆ˜ì—ë„ ì ìš©
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py:639` (`GiboDataGenerator._process_game`)
- **ë³€ê²½ ì‚¬í•­:** `_process_single_game_worker`ì™€ ë™ì¼í•œ íƒ€ê²Ÿ ê³„ì‚° ë¡œì§ ì ìš©

**ì˜ˆìƒ íš¨ê³¼:**
- ì´ˆë°˜ ìœ ë¦¬ í¬ì§€ì…˜ì´ ì‹¤ì œë¡œ ìœ ë¦¬í•œ ê°’ìœ¼ë¡œ í•™ìŠµë¨
- ì¤‘ë°˜ ê· í˜• í¬ì§€ì…˜ì´ ê· í˜• ê°’ìœ¼ë¡œ í•™ìŠµë¨
- ëª¨ë¸ì´ í¬ì§€ì…˜ì˜ ì‹¤ì œ ê°€ì¹˜ë¥¼ í‰ê°€í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµ

**ê²€ì¦ ë°©ë²•:**
- í•™ìŠµ í›„ `evaluate_model` í•¨ìˆ˜ë¡œ ìŠ¹ë¥  ì¸¡ì •
- ëª©í‘œ: SimpleEvaluator ëŒ€ë¹„ 40% ì´ìƒ ìŠ¹ë¥ 

---

### ë°©ì•ˆ 2: ê¸°ë³´ íŒŒì‹± ì •í™•ë„ ê°œì„  ë° ëª¨ë‹ˆí„°ë§

**ëª©í‘œ:** ì˜ëª»ëœ í¬ì§€ì…˜ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³  íŒŒì‹± í’ˆì§ˆì„ í–¥ìƒ

**êµ¬í˜„ ë‹¨ê³„:**

#### 2.1 íŒŒì‹± ì‹¤íŒ¨ìœ¨ í†µê³„ ìˆ˜ì§‘
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py`
- **ë³€ê²½ ì‚¬í•­:**
  - `_process_single_game_worker`ì—ì„œ `failed_moves` ë¹„ìœ¨ ê³„ì‚°
  - ê²Œì„ë³„ íŒŒì‹± ì„±ê³µë¥  ë°˜í™˜
  - ë©”ì¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ í†µê³„ ì§‘ê³„

**êµ¬ì²´ì  ì½”ë“œ ë³€ê²½:**
```python
# _process_single_game_worker ë°˜í™˜ê°’ í™•ì¥
return features, targets, success, error_message, failed_moves, total_moves

# generate_from_games_parallelì—ì„œ í†µê³„ ìˆ˜ì§‘
parsing_stats = {
    'total_games': len(games),
    'successful_games': 0,
    'failed_games': 0,
    'total_positions': 0,
    'total_failed_moves': 0,
    'total_attempted_moves': 0,
    'games_with_high_failure_rate': []  # ì‹¤íŒ¨ìœ¨ > 30%ì¸ ê²Œì„
}

# ê²°ê³¼ ì²˜ë¦¬ ì‹œ í†µê³„ ì—…ë°ì´íŠ¸
for result in results:
    features, targets, success, error_msg, failed, total = result
    parsing_stats['total_failed_moves'] += failed
    parsing_stats['total_attempted_moves'] += total
    
    if total > 0 and failed / total > 0.3:
        parsing_stats['games_with_high_failure_rate'].append(...)
```

#### 2.2 íŒŒì‹± ì‹¤íŒ¨ìœ¨ì´ ë†’ì€ ê²Œì„ í•„í„°ë§
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py`
- **ë³€ê²½ ì‚¬í•­:**
  - ì‹¤íŒ¨ìœ¨ì´ ì„ê³„ê°’(ì˜ˆ: 30%) ì´ìƒì¸ ê²Œì„ì€ í•™ìŠµ ë°ì´í„°ì—ì„œ ì œì™¸
  - ì„¤ì • ê°€ëŠ¥í•œ í•„í„°ë§ ì˜µì…˜ ì¶”ê°€

**ì„¤ì • ìƒìˆ˜ ì¶”ê°€:**
```python
MAX_PARSING_FAILURE_RATE = 0.3  # 30% ì´ìƒ ì‹¤íŒ¨ ì‹œ ê²Œì„ ì œì™¸
```

#### 2.3 íŒŒì‹± í†µê³„ ë¦¬í¬íŠ¸ ì¶œë ¥
- í•™ìŠµ ì‹œì‘ ì „/í›„ì— íŒŒì‹± í’ˆì§ˆ ë¦¬í¬íŠ¸ ì¶œë ¥
- ì˜ˆì‹œ:
  ```
  ğŸ“Š ê¸°ë³´ íŒŒì‹± í†µê³„:
  - ì´ ê²Œì„: 1000ê°œ
  - ì„±ê³µ: 850ê°œ (85%)
  - ì‹¤íŒ¨: 150ê°œ (15%)
  - í‰ê·  ì‹¤íŒ¨ìœ¨: 12.5%
  - ê³ ì‹¤íŒ¨ìœ¨ ê²Œì„ ì œì™¸: 50ê°œ
  ```

**ê²€ì¦ ë°©ë²•:**
- íŒŒì‹± í†µê³„ê°€ í•©ë¦¬ì ì¸ ë²”ìœ„ ë‚´ì— ìˆëŠ”ì§€ í™•ì¸
- ì‹¤íŒ¨ìœ¨ì´ ë†’ì€ ê²Œì„ì„ ìˆ˜ë™ìœ¼ë¡œ ê²€ì¦

---

### ë°©ì•ˆ 3: í•™ìŠµ ê³¼ì • ëª¨ë‹ˆí„°ë§ ê°•í™”

**ëª©í‘œ:** í•™ìŠµì´ ì œëŒ€ë¡œ ì§„í–‰ë˜ëŠ”ì§€ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸

**êµ¬í˜„ ë‹¨ê³„:**

#### 3.1 ìƒì„¸í•œ í•™ìŠµ ë©”íŠ¸ë¦­ ì¶œë ¥
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py:train_with_gradient_clipping`
- **ë³€ê²½ ì‚¬í•­:**
  - Epochë³„ train/val loss ì¶œë ¥ (ì´ë¯¸ êµ¬í˜„ë¨)
  - Learning rate ì¶œë ¥ ì¶”ê°€
  - Gradient norm ì¶œë ¥ ì¶”ê°€ (NaN ê°ì§€ìš©)

**êµ¬ì²´ì  ì½”ë“œ ë³€ê²½:**
```python
# train_with_gradient_clipping í•¨ìˆ˜ ë‚´ë¶€
for epoch in range(epochs):
    # ... ê¸°ì¡´ ì½”ë“œ ...
    
    # Gradient norm ê³„ì‚° ë° ì¶œë ¥
    total_norm = 0.0
    for p in model.parameters():
        if p.grad is not None:
            param_norm = p.grad.data.norm(2)
            total_norm += param_norm.item() ** 2
    total_norm = total_norm ** (1. / 2)
    
    current_lr = optimizer.param_groups[0]['lr']
    
    print(f"Epoch {epoch+1}/{epochs} - "
          f"Train Loss: {avg_train_loss:.6f}, "
          f"Val Loss: {val_loss:.6f}, "
          f"LR: {current_lr:.6e}, "
          f"Grad Norm: {total_norm:.4f}")
```

#### 3.2 ì¤‘ê°„ í‰ê°€ ì¶”ê°€
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py:train_from_gibo`
- **ë³€ê²½ ì‚¬í•­:**
  - N epochë§ˆë‹¤(ì˜ˆ: 10 epoch) ëª¨ë¸ í‰ê°€ ìˆ˜í–‰
  - SimpleEvaluator ëŒ€ë¹„ ìŠ¹ë¥  ì¶œë ¥

**êµ¬ì²´ì  ì½”ë“œ ë³€ê²½:**
```python
# train_from_gibo í•¨ìˆ˜ì— ì¶”ê°€
EVAL_INTERVAL = 10  # 10 epochë§ˆë‹¤ í‰ê°€

for epoch in range(epochs):
    # ... í•™ìŠµ ì½”ë“œ ...
    
    if (epoch + 1) % EVAL_INTERVAL == 0:
        print(f"\nğŸ“Š Epoch {epoch+1} ì¤‘ê°„ í‰ê°€ ì¤‘...")
        try:
            from scripts.train_nnue_gpu import evaluate_model
            win_rate = evaluate_model(nnue, num_games=10, search_depth=3)
            print(f"ìŠ¹ë¥ : {win_rate*100:.1f}%")
        except Exception as e:
            print(f"í‰ê°€ ì‹¤íŒ¨: {e}")
```

#### 3.3 í•™ìŠµ íˆìŠ¤í† ë¦¬ ì €ì¥
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py`
- **ë³€ê²½ ì‚¬í•­:**
  - í•™ìŠµ íˆìŠ¤í† ë¦¬ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥
  - ë‚˜ì¤‘ì— ë¶„ì„ ê°€ëŠ¥í•˜ë„ë¡ ë³´ê´€

**ê²€ì¦ ë°©ë²•:**
- Lossê°€ ê°ì†Œí•˜ëŠ”ì§€ í™•ì¸
- Validation lossê°€ training lossì™€ ë¹„ìŠ·í•œ ìˆ˜ì¤€ì¸ì§€ í™•ì¸
- Gradient normì´ ë„ˆë¬´ í¬ì§€ ì•Šì€ì§€ í™•ì¸ (NaN ë°©ì§€)

---

### ë°©ì•ˆ 4: íƒ€ê²Ÿ ê°’ ì •ê·œí™” ê°œì„ 

**ëª©í‘œ:** ì§„í–‰ë„ì— ë”°ë¼ í‰ê°€ ì ìˆ˜ì™€ ê²Œì„ ê²°ê³¼ì˜ ê°€ì¤‘ì¹˜ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì •

**êµ¬í˜„ ë‹¨ê³„:**

#### 4.1 ì§„í–‰ë„ ê¸°ë°˜ ê°€ì¤‘ì¹˜ ì¡°ì •
- **ìœ„ì¹˜:** `scripts/train_nnue_gibo.py`
- **ë³€ê²½ ì‚¬í•­:**
  - ì´ˆë°˜ í¬ì§€ì…˜(progress < 0.3): í‰ê°€ ì ìˆ˜ì— ë” í° ê°€ì¤‘ì¹˜
  - ì¤‘ë°˜ í¬ì§€ì…˜(0.3 <= progress < 0.7): ê· í˜• ê°€ì¤‘ì¹˜
  - í›„ë°˜ í¬ì§€ì…˜(progress >= 0.7): ê²Œì„ ê²°ê³¼ì— ë” í° ê°€ì¤‘ì¹˜

**êµ¬ì²´ì  ì½”ë“œ ë³€ê²½:**
```python
def calculate_dynamic_weights(progress: float) -> Tuple[float, float]:
    """ì§„í–‰ë„ì— ë”°ë¼ í‰ê°€ ì ìˆ˜ì™€ ê²Œì„ ê²°ê³¼ ê°€ì¤‘ì¹˜ ì¡°ì •."""
    if progress < 0.3:  # ì´ˆë°˜
        eval_weight = 0.8
        result_weight = 0.2
    elif progress < 0.7:  # ì¤‘ë°˜
        eval_weight = 0.6
        result_weight = 0.4
    else:  # í›„ë°˜
        eval_weight = 0.4
        result_weight = 0.6
    
    return eval_weight, result_weight

# íƒ€ê²Ÿ ê³„ì‚° ì‹œ ì‚¬ìš©
eval_weight, result_weight = calculate_dynamic_weights(progress)
target = eval_weight * normalized_eval + \
         result_weight * base_target * progress
```

**ê²€ì¦ ë°©ë²•:**
- ì´ˆë°˜/ì¤‘ë°˜/í›„ë°˜ í¬ì§€ì…˜ì˜ íƒ€ê²Ÿ ê°’ ë¶„í¬ í™•ì¸
- í•™ìŠµ í›„ ê° êµ¬ê°„ë³„ ì„±ëŠ¥ í™•ì¸

---

### ë°©ì•ˆ 5: Self-playì™€ í˜¼í•© í•™ìŠµ (ì„ íƒì )

**ëª©í‘œ:** ê¸°ë³´ í•™ìŠµê³¼ self-playë¥¼ ê²°í•©í•˜ì—¬ ë” ê°•ë ¥í•œ ëª¨ë¸ ìƒì„±

**êµ¬í˜„ ë‹¨ê³„:**

#### 5.1 í˜¼í•© í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
- **ìœ„ì¹˜:** `scripts/train_nnue_hybrid.py` (ì‹ ê·œ íŒŒì¼)
- **ê¸°ëŠ¥:**
  1. ê¸°ë³´ ë°ì´í„°ë¡œ ì´ˆê¸° í•™ìŠµ (1-2 epoch)
  2. Self-playë¡œ ì¶”ê°€ í•™ìŠµ (N epoch)
  3. ê¸°ë³´ ë°ì´í„°ë¡œ fine-tuning (1 epoch)
  4. ë°˜ë³µ

**êµ¬ì¡°:**
```python
def hybrid_training(
    gibo_dir: str,
    nnue: NNUETorch,
    gibo_epochs: int = 2,
    selfplay_epochs: int = 10,
    fine_tune_epochs: int = 1,
    iterations: int = 5
):
    for iteration in range(iterations):
        # 1. ê¸°ë³´ í•™ìŠµ
        train_from_gibo(gibo_dir, nnue, epochs=gibo_epochs)
        
        # 2. Self-play í•™ìŠµ
        train_from_selfplay(nnue, epochs=selfplay_epochs)
        
        # 3. Fine-tuning
        train_from_gibo(gibo_dir, nnue, epochs=fine_tune_epochs)
        
        # 4. í‰ê°€
        win_rate = evaluate_model(nnue)
        print(f"Iteration {iteration+1}: Win rate = {win_rate*100:.1f}%")
```

**ê²€ì¦ ë°©ë²•:**
- ê° iteration í›„ ìŠ¹ë¥  ì¸¡ì •
- ëª©í‘œ: ì ì§„ì  ìŠ¹ë¥  í–¥ìƒ

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: ì¦‰ì‹œ ì¡°ì¹˜ (ìµœìš°ì„ )
1. âœ… **ë°©ì•ˆ 1: í‰ê°€ ì ìˆ˜ ê¸°ë°˜ íƒ€ê²Ÿ ê³„ì‚°**
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 2-3ì‹œê°„
   - ì˜ˆìƒ íš¨ê³¼: ë†’ìŒ (í•µì‹¬ ë¬¸ì œ í•´ê²°)
   - ë‚œì´ë„: ì¤‘

2. âœ… **ë°©ì•ˆ 2.1: íŒŒì‹± ì‹¤íŒ¨ìœ¨ í†µê³„ ìˆ˜ì§‘**
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 1-2ì‹œê°„
   - ì˜ˆìƒ íš¨ê³¼: ì¤‘ (ë¬¸ì œ ì§„ë‹¨)
   - ë‚œì´ë„: ë‚®ìŒ

### Phase 2: ë‹¨ê¸° ê°œì„  (1ì£¼ ë‚´)
3. âœ… **ë°©ì•ˆ 3: í•™ìŠµ ê³¼ì • ëª¨ë‹ˆí„°ë§ ê°•í™”**
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 2-3ì‹œê°„
   - ì˜ˆìƒ íš¨ê³¼: ì¤‘ (ë””ë²„ê¹… ìš©ì´)
   - ë‚œì´ë„: ë‚®ìŒ

4. âœ… **ë°©ì•ˆ 2.2-2.3: íŒŒì‹± í•„í„°ë§ ë° ë¦¬í¬íŠ¸**
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 1-2ì‹œê°„
   - ì˜ˆìƒ íš¨ê³¼: ì¤‘
   - ë‚œì´ë„: ë‚®ìŒ

### Phase 3: ì¤‘ê¸° ê°œì„  (2ì£¼ ë‚´)
5. âœ… **ë°©ì•ˆ 4: íƒ€ê²Ÿ ê°’ ì •ê·œí™” ê°œì„ **
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 2-3ì‹œê°„
   - ì˜ˆìƒ íš¨ê³¼: ì¤‘-ë†’ìŒ
   - ë‚œì´ë„: ì¤‘

6. âœ… **ë°©ì•ˆ 5: Self-playì™€ í˜¼í•© í•™ìŠµ**
   - ì˜ˆìƒ ì†Œìš” ì‹œê°„: 4-6ì‹œê°„
   - ì˜ˆìƒ íš¨ê³¼: ë†’ìŒ (ì¥ê¸°ì )
   - ë‚œì´ë„: ë†’ìŒ

---

## ê²€ì¦ ê³„íš

### ë‹¨ê³„ë³„ ê²€ì¦

#### 1ë‹¨ê³„: ë°©ì•ˆ 1 êµ¬í˜„ í›„ ê²€ì¦
- **ê²€ì¦ í•­ëª©:**
  - [ ] íƒ€ê²Ÿ ê°’ì´ í‰ê°€ ì ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸
  - [ ] ì´ˆë°˜ í¬ì§€ì…˜ì˜ íƒ€ê²Ÿ ê°’ì´ í•©ë¦¬ì ì¸ ë²”ìœ„ì¸ì§€ í™•ì¸
  - [ ] í•™ìŠµ í›„ ìŠ¹ë¥ ì´ 0%ì—ì„œ ê°œì„ ë˜ì—ˆëŠ”ì§€ í™•ì¸
- **ì„±ê³µ ê¸°ì¤€:**
  - SimpleEvaluator ëŒ€ë¹„ ìŠ¹ë¥  30% ì´ìƒ

#### 2ë‹¨ê³„: ì „ì²´ êµ¬í˜„ í›„ ê²€ì¦
- **ê²€ì¦ í•­ëª©:**
  - [ ] íŒŒì‹± í†µê³„ê°€ í•©ë¦¬ì ì¸ ë²”ìœ„ì¸ì§€ í™•ì¸
  - [ ] í•™ìŠµ lossê°€ ê°ì†Œí•˜ëŠ”ì§€ í™•ì¸
  - [ ] Validation lossê°€ training lossì™€ ë¹„ìŠ·í•œì§€ í™•ì¸
  - [ ] ìµœì¢… ìŠ¹ë¥ ì´ 40% ì´ìƒì¸ì§€ í™•ì¸
- **ì„±ê³µ ê¸°ì¤€:**
  - SimpleEvaluator ëŒ€ë¹„ ìŠ¹ë¥  40% ì´ìƒ
  - íŒŒì‹± ì‹¤íŒ¨ìœ¨ 20% ì´í•˜
  - Training/Validation loss ì°¨ì´ 10% ì´ë‚´

### ì¥ê¸° ê²€ì¦
- ì£¼ê¸°ì ìœ¼ë¡œ ëª¨ë¸ ì„±ëŠ¥ í‰ê°€
- Self-playì™€ ê¸°ë³´ í•™ìŠµ ëª¨ë¸ ë¹„êµ
- ì‹¤ì œ ê²Œì„ í”Œë ˆì´ í…ŒìŠ¤íŠ¸

---

## ì˜ˆìƒ ê²°ê³¼

### ë°©ì•ˆ 1ë§Œ êµ¬í˜„í•œ ê²½ìš°
- **ì˜ˆìƒ ìŠ¹ë¥ :** 30-40%
- **ê°œì„  ì‚¬í•­:** í¬ì§€ì…˜ í‰ê°€ ì •í™•ë„ í–¥ìƒ

### ëª¨ë“  ë°©ì•ˆ êµ¬í˜„í•œ ê²½ìš°
- **ì˜ˆìƒ ìŠ¹ë¥ :** 40-50%
- **ê°œì„  ì‚¬í•­:**
  - í¬ì§€ì…˜ í‰ê°€ ì •í™•ë„ í–¥ìƒ
  - í•™ìŠµ ì•ˆì •ì„± í–¥ìƒ
  - íŒŒì‹± í’ˆì§ˆ í–¥ìƒ
  - ì¥ê¸°ì  ì„±ëŠ¥ í–¥ìƒ ê°€ëŠ¥

---

## ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘ ë°©ì•ˆ

### ë¦¬ìŠ¤í¬ 1: í‰ê°€ ì ìˆ˜ ê³„ì‚° ì˜¤ë²„í—¤ë“œ
- **ë¬¸ì œ:** SimpleEvaluator í‰ê°€ê°€ í•™ìŠµ ì†ë„ë¥¼ ì €í•˜ì‹œí‚¬ ìˆ˜ ìˆìŒ
- **ëŒ€ì‘:** 
  - í‰ê°€ ì ìˆ˜ ê³„ì‚°ì„ ì„ íƒì ìœ¼ë¡œ í™œì„±í™”í•˜ëŠ” ì˜µì…˜ ì¶”ê°€
  - ë°°ì¹˜ ì²˜ë¦¬ë¡œ ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”

### ë¦¬ìŠ¤í¬ 2: íŒŒì‹± ì‹¤íŒ¨ìœ¨ì´ ë„ˆë¬´ ë†’ìŒ
- **ë¬¸ì œ:** ë§ì€ ê²Œì„ì´ í•„í„°ë§ë˜ì–´ í•™ìŠµ ë°ì´í„° ë¶€ì¡±
- **ëŒ€ì‘:**
  - í•„í„°ë§ ì„ê³„ê°’ì„ ì¡°ì • ê°€ëŠ¥í•˜ê²Œ ì„¤ì •
  - íŒŒì‹± ë¡œì§ ê°œì„  (ì¶”ê°€ ë³€í™˜ ì‹œë„)

### ë¦¬ìŠ¤í¬ 3: í•™ìŠµ ì‹œê°„ ì¦ê°€
- **ë¬¸ì œ:** ì¶”ê°€ ê²€ì¦ ë° ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ í•™ìŠµ ì‹œê°„ ì¦ê°€
- **ëŒ€ì‘:**
  - ì¤‘ê°„ í‰ê°€ë¥¼ ì„ íƒì ìœ¼ë¡œ í™œì„±í™”
  - í‰ê°€ ê²Œì„ ìˆ˜ë¥¼ ì¡°ì • ê°€ëŠ¥í•˜ê²Œ ì„¤ì •

---

## ì°¸ê³  ìë£Œ

- ë¬¸ì œ ë¶„ì„ ë¬¸ì„œ: `docs/development/gibo-training-issue-analysis.md`
- ê¸°ë³´ í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸: `scripts/train_nnue_gibo.py`
- Self-play í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸: `scripts/train_nnue_gpu.py`
- í‰ê°€ í•¨ìˆ˜: `scripts/train_nnue_gpu.py:evaluate_model`
- SimpleEvaluator: `janggi/nnue.py:SimpleEvaluator`

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1 êµ¬í˜„
- [x] ë°©ì•ˆ 1: í‰ê°€ ì ìˆ˜ ê¸°ë°˜ íƒ€ê²Ÿ ê³„ì‚° êµ¬í˜„
- [x] ë°©ì•ˆ 2.1: íŒŒì‹± ì‹¤íŒ¨ìœ¨ í†µê³„ ìˆ˜ì§‘ êµ¬í˜„
- [x] Phase 1 ê²€ì¦ ì™„ë£Œ (ì½”ë“œ ê²€ì¦ í†µê³¼)

### Phase 2 êµ¬í˜„
- [x] ë°©ì•ˆ 3: í•™ìŠµ ê³¼ì • ëª¨ë‹ˆí„°ë§ ê°•í™”
  - [x] 3.1: ìƒì„¸í•œ í•™ìŠµ ë©”íŠ¸ë¦­ ì¶œë ¥ (Learning rate, Gradient norm ì¶”ê°€)
  - [x] 3.2: ì¤‘ê°„ í‰ê°€ ì¶”ê°€ (N epochë§ˆë‹¤ ëª¨ë¸ í‰ê°€ ìˆ˜í–‰)
  - [x] 3.3: í•™ìŠµ íˆìŠ¤í† ë¦¬ ì €ì¥ (JSON íŒŒì¼ë¡œ ì €ì¥)
- [x] ë°©ì•ˆ 2.2-2.3: íŒŒì‹± í•„í„°ë§ ë° ë¦¬í¬íŠ¸ (ì´ë¯¸ êµ¬í˜„ë¨)
- [x] Phase 2 ê²€ì¦ ì™„ë£Œ
  - [x] Loss ê°ì†Œ í™•ì¸ (11.60% ê°ì†Œ)
  - [x] Training/Val loss ì°¨ì´ í™•ì¸ (0.40%, 10% ì´ë‚´)
  - [x] Learning Rate ê¸°ë¡ í™•ì¸
  - [x] Gradient Norm ì •ìƒ ë²”ìœ„ í™•ì¸ (0.0138 ~ 0.2024)
  - [x] ì¤‘ê°„ í‰ê°€ ì‹¤í–‰ í™•ì¸ (Epoch 10)
  - [x] í•™ìŠµ íˆìŠ¤í† ë¦¬ ì €ì¥ í™•ì¸ (JSON íŒŒì¼ ìƒì„±)

### Phase 3 êµ¬í˜„
- [x] ë°©ì•ˆ 4: íƒ€ê²Ÿ ê°’ ì •ê·œí™” ê°œì„ 
  - [x] ì§„í–‰ë„ ê¸°ë°˜ ë™ì  ê°€ì¤‘ì¹˜ í•¨ìˆ˜ êµ¬í˜„ (`calculate_dynamic_weights`)
  - [x] `_process_single_game_worker`ì— ë™ì  ê°€ì¤‘ì¹˜ ì ìš©
  - [x] `_process_game`ì— ë™ì  ê°€ì¤‘ì¹˜ ì ìš©
- [x] ë°©ì•ˆ 5: Self-playì™€ í˜¼í•© í•™ìŠµ
  - [x] `train_nnue_hybrid.py` ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
  - [x] ê¸°ë³´ í•™ìŠµ â†’ Self-play í•™ìŠµ â†’ Fine-tuning ë°˜ë³µ êµ¬ì¡° êµ¬í˜„
  - [x] ê° iterationë§ˆë‹¤ í‰ê°€ ë° ì²´í¬í¬ì¸íŠ¸ ì €ì¥
- [x] ìµœì¢… ê²€ì¦ ì™„ë£Œ
  - [x] ë™ì  ê°€ì¤‘ì¹˜ í•¨ìˆ˜ ê²€ì¦ (9ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëª¨ë‘ í†µê³¼)
  - [x] ë™ì  ê°€ì¤‘ì¹˜ ì‚¬ìš© í™•ì¸ (5ê°œ í•­ëª© ëª¨ë‘ í†µê³¼)
  - [x] í˜¼í•© í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸ ê²€ì¦ (11ê°œ í•­ëª© ëª¨ë‘ í†µê³¼)
  - [x] í˜¼í•© í•™ìŠµ ì›Œí¬í”Œë¡œìš° ê²€ì¦ (5ê°œ í•­ëª© ëª¨ë‘ í†µê³¼)
  - [x] ê²€ì¦ ë¦¬í¬íŠ¸ ì‘ì„± (`docs/development/phase3-verification-report.md`)

---

## ì—…ë°ì´íŠ¸ ì´ë ¥

- 2024-XX-XX: ì´ˆì•ˆ ì‘ì„±
- 2024-XX-XX: Phase 2 êµ¬í˜„ ì™„ë£Œ ë° ê²€ì¦ í†µê³¼
  - ë°©ì•ˆ 3 (í•™ìŠµ ê³¼ì • ëª¨ë‹ˆí„°ë§ ê°•í™”) êµ¬í˜„ ì™„ë£Œ
  - ë°©ì•ˆ 2.2-2.3 (íŒŒì‹± í•„í„°ë§ ë° ë¦¬í¬íŠ¸) í™•ì¸ ì™„ë£Œ
  - ê²€ì¦ ê²°ê³¼: ëª¨ë“  í•­ëª© í†µê³¼
- 2024-XX-XX: Phase 3 êµ¬í˜„ ì™„ë£Œ ë° ê²€ì¦ í†µê³¼
  - ë°©ì•ˆ 4 (íƒ€ê²Ÿ ê°’ ì •ê·œí™” ê°œì„ ) êµ¬í˜„ ì™„ë£Œ
    - `calculate_dynamic_weights` í•¨ìˆ˜ ì¶”ê°€: ì§„í–‰ë„ì— ë”°ë¼ ì´ˆë°˜(0.8/0.2), ì¤‘ë°˜(0.6/0.4), í›„ë°˜(0.4/0.6) ê°€ì¤‘ì¹˜ ì ìš©
    - `_process_single_game_worker`ì™€ `_process_game`ì— ë™ì  ê°€ì¤‘ì¹˜ ì ìš©
  - ë°©ì•ˆ 5 (Self-playì™€ í˜¼í•© í•™ìŠµ) êµ¬í˜„ ì™„ë£Œ
    - `scripts/train_nnue_hybrid.py` ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
    - ê° iterationë§ˆë‹¤: ê¸°ë³´ í•™ìŠµ â†’ Self-play í•™ìŠµ â†’ Fine-tuning â†’ í‰ê°€ ìˆœì„œë¡œ ì§„í–‰
    - Learning rate decay ë° ì²´í¬í¬ì¸íŠ¸ ì €ì¥ ê¸°ëŠ¥ í¬í•¨
  - ê²€ì¦ ê²°ê³¼: ëª¨ë“  ê²€ì¦ í•­ëª© í†µê³¼ (30ê°œ í•­ëª©, 100% í†µê³¼)
    - ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸: `scripts/verify_phase3.py`
    - ê²€ì¦ ë¦¬í¬íŠ¸: `docs/development/phase3-verification-report.md`

